
<!DOCTYPE html>
<html dir="ltr" lang="ru">
<head>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
	<meta charset="UTF-8">
	<title>Калькулятор цепи</title>
	<meta name="description" content="Magic gear calculator" />
	<meta name="keywords" content= "magic gear chain length calculator" />
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 			integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	
	<style>
	body > .container-fluid {
		min-width:20em;
	}

	.well {
			background: #d9edf7;
	}

	#lang {
		float:right;
	}

	.result, .result_ch
	{
		display: none;
	}

	/*#lang {
		position:fixed;
		bottom:1em;
		left:1em;
		z-index:100!important;
	}*/

	#lang > button,
	#lang .btn-group>.btn:hover {
		z-index:100!important;
	}

	.row {
	padding: 0.6ex;
	}

	#result div.row:nth-child(even){
			background-color: #f9f9f9;
	}

	#result div.row:hover {
			background-color: #f5f5f5;
	}

	input[id^=r_], input[id^=rw_],
	input[id^=r_]::-webkit-inner-spin-button, 
	input[id^=r_]::-webkit-outer-spin-button,
	input[id^=rw_]::-webkit-inner-spin-button, 
	input[id^=rw_]::-webkit-outer-spin-button {
		-moz-appearance: textfield;
		-webkit-appearance: none;
		margin: 0; /* Removes leftover margin */
	}

	input.form-control {
		display:inline;
		width:10ex;
		padding:1ex;
	}

	input[id^=r_] {
		min-width:8ex;
		width:8ex;
	}

	input[id^=rw_] {
		min-width:16.4ex;
		width:16.4ex;
	}

	.tab-content {
		border:1px solid #ddd;
		border-radius:5px;
	}

	.tab-content > div.row {
		padding-left:0px;
		padding-right:0px;
		padding-top:0px;
	}

	a[data-toggle="collapse"] {
		cursor: pointer;
		font-size:2.2ex;
		line-height:3ex;
		padding-left:0.5ex;
	}

	div[id^=tr_] {
		border-top: 1px dotted silver;
	}

	.heading {
		display:inline-block;
		width:100%;
		line-height:2em;
	}

	.heading input {
		min-width:2ex;
	}

	.heading span {
		cursor:pointer;
	}

	.btn-check {
		float:right;
	}

	.highlight {
		background:lightyellow!important;
	}

	/*
	div[id^=svg_] {
		height: 0;
		padding-top: 30%;
		position: relative;
	}

	div[id^=svg_] svg {
		position: absolute;
		top: 0;
		left: 0;
	}
	*/
	</style>
</head>
<body>
	<a name="top" id="top"></a>

<div class="container">
  <ul class="breadcrumb">
			<li><a href="http://chainhook.ru/index.php?route=common/home"><i class="fa fa-home"></i></a></li>
			<li><a href="http://chainhook.ru/chain-length-calculator">Калькулятор длины цепи и размера звезд велосипеда</a></li>
  </ul>
  <div class="row">
		<div id="content" class="col-sm-12">
			<h1>Калькулятор длины цепи и размера звезд велосипеда</h1>
			
<form name="mainform" id="mainform">
<div class="container-fluid">
  
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-10 col-lg-6">
      
      <div class="row">
        <div class="col-xs-11">
          <div class="well text-info"><span ml_label="main_heading">SingleSpeed chain length calculator</span></div>
        </div>
        <div class="col-xs-1" id="h_btns">
          <div class="well-sm text-info">
            <!-- <input type="button" class="btn btn-info btn-sm btn-check" data-toggle="modal" data-target="#Modal2" value="?" /> -->
            <div class="btn-group dropup" id="lang">
              <button id="curr_lang" type="button" data-toggle="dropdown" class="btn btn-info dropdown-toggle btn-xs">Ru</button>
                <ul class="dropdown-menu">
                  <li><a>En</a></li>
               </ul>
            </div>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-xs-6">
            <lable for="chainstay"  ml_label="chainstay">Длинна между осями каретки и колеса (мм):</lable>
        </div>
        <div class="col-xs-6">
            <input type="number" name="chainstay" id="chainstay" class="form-control" min="300" max="700" step="1" placeholder="420" value="420" pattern="[34567]\d{2}" size="3" maxlength="3" required >
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6">
             <lable for="pitch"  ml_label="pitch">Шаг цепи (мм):</lable>
        </div>
        <div class="col-xs-6">
             <input type="number" name="pitch" id="pitch" class="form-control" value="12.7" size="4" maxlength="4" disabled >
        </div>
      </div>
    </div><div class="col-xs-0 col-sm-0 col-md-2 col-lg-6"></div>
    
    <!-- tabs -->
    <div class="col-xs-12 col-sm-12 col-md-10 col-lg-6 tab-content">
      <div class="row">
        <ul class="nav nav-tabs">
          <li class="active"><a data-toggle="tab" href="#tab_ratio" ml_label="tab_ratio">By ratio</a></li>
          <li><a data-toggle="tab" href="#tab_ring" ml_label="tab_ch">By chainring</a></li>
        </ul>
      </div>
      
      <div id="tab_ratio" class="row tab-pane fade in active">
        <div class="col-xs-12">
           <div class="row">
                  <div class="col-xs-6">
                    <lable for="ratio"  ml_label="ch_ratio">Передаточное соотношение:</lable>
                  </div>
                  <div class="col-xs-6">
                    <input type="number" name="ratio" id="ratio" class="form-control" min="0.5" max="3" step="0.1" placeholder="1.68" value="1.68" size="4" maxlength="4" required >
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <input type="button" id="calculate" class="btn btn-primary btn-block" ml_label="calc_button" value="calculate">
                  </div>
           </div>
            <div class="row">
              <div class="col-sm-12 col-md-12" id="result" name="result">
        
              </div>
            </div>
          </div>
        </div>
      
        <div id="tab_ring" class="row tab-pane fade">      
          <div  class="col-xs-12">
            <div class="row">
                  <div class="col-xs-6">
                    <lable for="front_chring" ml_label="fr_chainring">Передняя звезда:</lable>
                  </div>
                  <div class="col-xs-6">
                    <input type="number" name="front_chring" id="front_chring" class="form-control" min="30" max="60" step="1" placeholder="32" value="32" size="4" maxlength="4" required >
                  </div>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <input type="button" id="calculate_ch" class="btn btn-primary btn-block" ml_label="calc_button" value="calculate">
                  </div>
             </div>
            <div class="row">
              <div class="col-sm-12 col-md-12" id="result_ch" name="result_ch">
              </div>
            </div>
          </div>  
        </div>
      
    </div><div class="col-xs-0 col-sm-0 col-md-2 col-lg-6"></div>
  </div>

  <div class="row">
  	<!-- text -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <p>Для того, чтобы собрать синглспид с вертикальными дропаутами без натяжителя нужно подобрать звезды, которые обеспечат необходимое передаточное отношение и достаточное натяжение цепи. Такая пара звезд получила название &mdash; magic gear.</p>
      <p>На небольшое провисание цепи можно закрыть глаза, если использовать толстые звезды с высокими зубьями или звезды с переменной толщиной зуба &mdash; Narrow Wide.</p>
      <p>Для более простого подбора звезд хорошо подходят цепи half link, но их придется чаще менять, так как они больше подвержены растяжению.</p>
    </div>
  </div>
  
  <div class="row">
      <div id="modals_block">
        <div id="Modal2" class="modal fade" role="dialog">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" ml_label="about">Полезные ссылки:</h4>
                  </div>
                  <div class="modal-body">
                    <ul>
                      <li><a href="https://www.ebicycles.com/bicycle-tools/frame-sizer" target="_blank" ml_label="frame_calc">Калькулятор размера рамы</a></li>
                      <li><a href="http://www.gear-calculator.com/" target="_blank" ml_label="gears_calc">Калькулятор передач</a></li>
                      <li><a href="http://www.63xc.com/toddp/halflink.htm" target="_blank" ml_label="gears_calc_article">Статья о расчетах длинны цепи</a></li>
                    </ul>
                    <p><img src="https://www.shareicon.net/data/16x16/2015/09/20/643634_logo_512x512.png" alt="ↄ" /> - <a href="mailto:george.a.wise@gmail.com">george.a.wise@gmail.com</a></p>
                  </div>
                  <!-- <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div> -->
                </div>
              </div>
            </div>
      </div>
  </div>
  
</div>
</form>

<script type="text/javascript">
  ( function($) {

    /**
     * @file SingleSpeed bike chain calculator
     * @author <george.a.wise@gmail.com>
     * @license Copyleft Open Source :)
     */

    langs = ["en","ru"];
    labels = ["main_heading",
             "calc_button",
             "tab_ratio",
              "tab_ch",
              "chainstay",
              "pitch",
              "ch_ratio",
              "fr_chainring",
              "ch_d",
              "chain_straight",
              "chain_length",
              "chain_links",
              "about",
              "frame_calc",
              "gears_calc",
              "gears_calc_article"
             ];

    for (var k in labels) labels[labels[k]] = new Array();

    labels["main_heading"]["ru"]="Расчет звезд для SingeSpeed (для установки без натяжителя)";
    labels["main_heading"]["en"]="SingleSpeed (fixed) chain length calculator";
    labels["calc_button"]["ru"]="вычислить";
    labels["calc_button"]["en"]="calculate";
    labels["tab_ratio"]["ru"] = "По отношению";
    labels["tab_ratio"]["en"] = "By ratio";
    labels["tab_ch"]["ru"] = "По передней зведе";
    labels["tab_ch"]["en"] = "By chainring";
    labels["chainstay"]["ru"] = "Длинна между осями каретки и колеса (мм):";
    labels["chainstay"]["en"] = "Chainstay length:";
    labels["pitch"]["ru"] = "Шаг цепи (мм):";
    labels["pitch"]["en"] = "Pitch:";
    labels["ch_ratio"]["ru"] = "Передаточное отношение:";
    labels["ch_ratio"]["en"] = "Chainrings ratio:";
    labels["fr_chainring"]["ru"] = "Передняя звезда (зубов):";
    labels["fr_chainring"]["en"] = "Font chainring (number of teeth):";
    labels["ch_d"]["ru"] = "Диаметры звезд:";
    labels["ch_d"]["en"] = "Chainrings diameter:";
    labels["chain_straight"]["ru"] = "Длинна прямых участков цепи:";
    labels["chain_straight"]["en"] = "Straight chain parts length:";
    labels["chain_length"]["ru"] = "Общая длинна цепи:";
    labels["chain_length"]["en"] = "Full chain length:";
    labels["chain_links"]["ru"] = "Количество звеньев цепи:";
    labels["chain_links"]["en"] = "Number of chain links:";
    labels["about"]["ru"] = "Полезные ссылки:";
    labels["about"]["en"] = "Useful links";
    labels["frame_calc"]["ru"] = "Калькулятор размера рамы";
    labels["frame_calc"]["en"] = "Frame size calculator";
    labels["gears_calc"]["ru"] = "Калькулятор передач";
    labels["gears_calc"]["en"] = "Bike gears calculator";
    labels["gears_calc_article"]["ru"] = "Статья о расчетах звезд";
    labels["gears_calc_article"]["en"] = "Magic Gears and Half Links";

    /*
    labels[""]["ru"] = "";
    labels[""]["en"] = "";
    */

    // ========================================================================
    // Events
    // ========================================================================

      $( "#calculate" ).click(function() { clclt('ratio'); ntnl($('#curr_lang').text()); });
      $( "#calculate_ch" ).click(function() { clclt('fr_ring'); ntnl($('#curr_lang').text()); });

      // Submit by Enter key
      $(document).keypress(function(event) {
          if (event.which == 13) {
              event.preventDefault();
              //$( "#calculate" ).click();
              clclt('ratio');
              //$( "#calculate_ch" ).click();
              clclt('fr_ring');
          }
      });

      // Reset on edit
      $("#chainstay").on("input", function()
      {
        $("#result").html('');
        $("#result_ch").html('');
      });
      $("#ratio").on("input", function() { $("#result").html(''); });
      $("#front_chring").on("input", function() { $("#result_ch").html(''); });
      
      // Lang set
      var userLang = navigator.language || navigator.userLanguage;
      userLang = userLang.toLowerCase();
      if($.inArray(userLang, langs) >= 0 && $("#curr_lang").text().toLowerCase() !== userLang) ch_lang();
      var savedLang = $.cookie("clang");
      if( $("#curr_lang").text().toLowerCase() !== savedLang && savedLang !== undefined) ch_lang();

      // Lang menu
      $('#lang .dropdown-menu a').on("click tap", function()
        {
          ch_lang();
          ntnl($('#curr_lang').text());
          $.cookie("clang", $('#curr_lang').text().toLowerCase());
        });

      ntnl($('#curr_lang').text());

    // ========================================================================
    // Calculation by ratio
    // ========================================================================

      function clclt(type)
      {
          if(!$("#chainstay").val()) $("#chainstay").val(440);
          if($("#chainstay").val() < 300) $("#chainstay").fadeOut(0, function() { $("#chainstay").val(300).fadeIn(500); });
          if(!$("#ratio").val()) $("#ratio").val(1.68);
          if($("#ratio").val() < 0.5) $("#ratio").fadeOut(0, function() { $("#ratio").val(0.5).fadeIn(500); });
          if(!$("#front_chring").val()) $("#front_chring").val(30);
          if($("#front_chring").val() < 30) $("#front_chring").fadeOut(0, function() { $("#front_chring").val(30).fadeIn(500); });
          if($("#front_chring").val() > 60) $("#front_chring").fadeOut(0, function() { $("#front_chring").val(60).fadeIn(500); });
          
          var n = 1;
          var count = 1;
          var n_html = '<div class="row danger">\
                   <div>\
                     <lable>Нет совпадений</lable>\
                  </div>\
                </div>';
          
        // === by ratio ===
          if(type == 'ratio')
          {
            $("#result").html('');
            $("#result").hide();
            
            while (n <=26)
            {
              var ln = 29+n; // Количество зубов передней звезды
              var sn = Math.round(ln/$("#ratio").val()); // Количество зубов задней звезды
              
              if(sn > 12) var result = clck_step(ln, sn);
                
              r_html = get_content(count, ln, sn, result, 'raw');
              m_html = get_content (count, ln, sn, result, 'modal');
              
              if(result['match'])
              {
                $("#result").append(r_html).show('slow');
                $("#modals_block").append(m_html);
                count++;
              }
              
              n++;
            }
          }
        // === by chainring ===
          else
          {
            $("#result_ch").html('');
            $("#result_ch").hide();
            
            // var ln = Math.round(sn*$("#ratio").val()); // Количество зубов передней звезды
            var ln = $('#front_chring').val();
            
            while(n < 30)
            {
              var sn = 11+n; // Количество зубов передней звезды
              
              var result = clck_step(ln, sn);
              
              r_html = get_content(count, ln, sn, result, 'raw');
              m_html = get_content (count, ln, sn, result, 'modal');

              if(result['match'])
              {
                $("#result_ch").append(r_html).show('slow');
                $("#modals_block").append(m_html);
                count++;
              }

              n++;
             }
            
          }
          
        // === rows selection ===
        
          $('#result .row, #result_ch .row').off("click");
          
          $('#result .row, #result_ch .row').click(function(e){
            // if (e.target !== this) return;
            if(e.target.tagName.toLowerCase() != 'div') return;
            if($(this).hasClass("highlight"))
                $(this).removeClass('highlight');
            else
                $(this).addClass('highlight');
          })
          
      };

    // ========================================================================
    // Functions 
    // ========================================================================

    // Even check
      function isEven(someNumber)
      {
        return (someNumber % 2 === 0) ? true : false;
      };

    // Internationalization
      function ntnl(lang)
      {
        lang = lang.toLowerCase();
        $('*[ml_label]').each(function()
        {
          //if(labels.hasOwnProperty($(this).attr("ml_label")))
          {
            if(!$(this).val() && $(this).text()) $(this).text(labels[$(this).attr("ml_label")][lang]);
              else $(this).val(labels[$(this).attr("ml_label")][lang]);
          }
        })
      };

      function ch_lang()
      {
        var old_lang = $("#curr_lang").text();
        $("#curr_lang").text($('#lang .dropdown-menu a').text());
        $('#lang .dropdown-menu a').text(old_lang);
      }

    // Ratio eval iteration
      function clck_step(ln, sn)
      {
          
          var result = new Array(4);
          result['match'] = false;
          if(ln <= sn) return result;
          
          rad_l = (180 / ln) * Math.PI / 180; // преобразование в радианы
          rad_s = (180 / sn) * Math.PI / 180; // преобразование в радианы
          
          // https://www.wolframalpha.com/input/?i=32-gon+edge%3D12.7mm
          lr = $("#pitch").val() / (2 * Math.sin(rad_l)); // радиус большой звезды
          result['large_radius'] = lr;
          // https://www.wolframalpha.com/input/?i=19-gon+edge%3D12.7mm
          sr = $("#pitch").val() / (2 * Math.sin(rad_s)); // радиус малой звезды
          result['small_radius'] = sr;
          
          // прямой учаток цепи
          c  = Math.sqrt( Math.pow($("#chainstay").val(),2) + Math.pow(lr-sr,2) );
          result['chain_straight'] = c;
          result['chains_dif'] = lr-sr;
          // общая длина цепи
          l = (ln / 2 * $("#pitch").val()) + (sn / 2 * $("#pitch").val()) + (c * 2);
          result['chain_length'] = l;
          // количество звеньев
          links = Math.round(l/$("#pitch").val());
          result['chain_links'] = links;
	      
          
        
          // проверка длины цепи и четности звеньев
	  if(isEven(links))
	  {
		// провисание цепи
          	hit = (l/$("#pitch").val()) - Math.floor(l/$("#pitch").val());
          	if(hit < 0.3)
		{
			result['match'] = true;
		}
		else if(hit > 0.7)
		{
			result['match'] = true;
		}
	  }
        
        return result;
      }

      function get_content (n, ln, sn, result, type)
      {
        var r_html = '';
        var m_html = '';
        r_html += '<div class="row" id="tr_'+n+'">\
                   <div class="col-xs-12">\
                     <div class="heading">\
                       <input type="button" class="btn btn-info btn-sm" data-toggle="collapse" data-target=".collapse_'+n+'" value="⇅&nbsp;'+n+'" />\
                       <span class="row-fluid" data-toggle="collapse" data-target=".collapse_'+n+'">'+ln+'x'+sn+'</span>\
                       <!-- <input type="button" class="btn btn-info btn-sm btn-check" data-toggle="modal" data-target="#Modal_'+n+'" value="?" /> -->\
                     </div>\
                  </div>\
                </div>';
        r_html += '<div class="row collapse_'+n+' collapse" data-toggle="tooltip" >\
                   <div class="col-xs-6">\
                     <lable ml_label="ch_d">Диаметры звезд:</lable>\
                  </div>\
                  <div class="col-xs-6">\
                    <input type="number" name="r_'+n+'_d_l" id="r_'+n+'_d_l" class="form-control" size="5" maxlength="5" value="'+(result['large_radius']*2).toFixed(1)+'" readonly>\
                    <input type="number" name="r_'+n+'_d_s" id="r_'+n+'_d_s" class="form-control" size="5" maxlength="5" value="'+(result['small_radius']*2).toFixed(1)+'" readonly>\
                  </div>\
                </div>';
        r_html += '<div class="row collapse_'+n+' collapse" data-toggle="tooltip">\
                   <div class="col-xs-6">\
                     <lable ml_label="chain_straight">Длинна прямых участков цепи:</lable>\
                  </div>\
                  <div class="col-xs-6">\
                    <input type="number" name="rw_'+n+'_sch_l" id="rw_'+n+'_sch_l" class="form-control" size="5" maxlength="5" value="'+(result['chain_straight']).toFixed(1)+'" readonly>\
                  </div>\
                </div>';
        r_html += '<div class="row collapse_'+n+' collapse" data-toggle="tooltip" >\
                   <div class="col-xs-6">\
                     <lable ml_label="chain_length">Общая длина цепи:</lable>\
                  </div>\
                  <div class="col-xs-6">\
                    <input type="number" name="r_w'+n+'_ch_l" id="rw_'+n+'_ch_l" class="form-control" size="5" maxlength="5" value="'+(result['chain_length']).toFixed(2)+'" readonly>\
                  </div>\
                </div>';
        r_html += '<div class="row collapse_'+n+' collapse" data-toggle="tooltip" >\
                   <div class="col-xs-6">\
                     <lable ml_label="chain_links">Количество звеньев цепи:</lable>\
                  </div>\
                  <div class="col-xs-6">\
                    <input type="number" name="r_w'+n+'_ch_lnks" id="rw_'+n+'_chl_lnks" class="form-control" size="5" maxlength="5" value="'+result['chain_links']+'" readonly>\
                  </div>\
                </div>';
        r_html += '<div class="row collapse_'+n+' collapse" data-toggle="tooltip" >\
                   <div class="col-xs-6">\
                     <lable ml_label="ch_ratio">Передаточное отношение:</lable>\
                  </div>\
                  <div class="col-xs-6">\
                    <input type="number" name="r_w'+n+'_ch_ratio" id="rw_'+n+'_ratio" class="form-control" size="5" maxlength="5" value="'+(ln/sn).toFixed(2)+'" readonly>\
                  </div>\
                </div>';
        /*
        r_html += '<div class="row collapse_'+n+' collapse">\
                   <div class="col-xs-12" id="svg_'+n+'">\
                      <!-- Width: '+(Number(result['large_radius'])+result['small_radius']+Number($("#chainstay").val())*1.1)+' -->\
                      <!-- Height: '+(result['large_radius']*2.1)+' -->\
                      <svg width="100%" height="'+(result['large_radius']*2.1)+'">\
                         <circle cx="'+result['large_radius']+'" cy="'+(result['large_radius']*2.1)/2+'" r="'+result['large_radius']+'" stroke="gray" stroke-width="1" fill="silver" />\
                         <!-- <circle cx="'+(result["large_radius"]+Number($("#chainstay").val())+result["small_radius"]/2)+'" cy="'+(result["large_radius"]*2.1)/2+'" r="'+result["small_radius"]+'" stroke="gray" stroke-width="1" fill="silver" /> -->\
                         <circle cx="'+result['large_radius']+'" cy="'+(result["large_radius"]*2.1)/2+'" r="'+result["small_radius"]+'" stroke="gray" stroke-width="1" fill="silver" />\
                         Sorry, your browser does not support inline SVG.\
                      </svg>\
                  </div>\
                </div>';
        */
        
        if(type == 'modal')
        {
              m_html += '<div id="Modal_'+n+'" class="modal fade" role="dialog">\
                  <div class="modal-dialog">\
                    <div class="modal-content">\
                      <div class="modal-header">\
                        <button type="button" class="close" data-dismiss="modal">&times;</button>\
                        <h4 class="modal-title">Ссылки на расчеты</h4>\
                      </div>\
                      <div class="modal-body">\
                        <ul>\
                          <li><a href="https://www.wolframalpha.com/input/?i=round('+ln+'%2F'+$("#ratio").val()+')" target="_blank">Размер задней звезды</a></li>\
                          <li><a href="https://www.wolframalpha.com/input/?i='+ln+'-gon+edge%3D12.7mm" target="_blank">Диаметр передней звезды</a></li>\
                          <li><a href="https://www.wolframalpha.com/input/?i='+sn+'-gon+edge%3D12.7mm" target="_blank">Диаметр задней звезды</a></li>\
                          <li><a href="https://www.wolframalpha.com/input/?i=sqrt('+$("#chainstay").val()+'%5E2%2B('+result['large_radius']+'-'+result['small_radius']+')%5E2)" target="_blank">Длина прямого участка</a></li>\
                          <li><a href="https://www.wolframalpha.com/input/?i=round('+result['chain_length']+'%2F12.7)" target="_blank">Количество звеньев</a></li>\
                        </ul>\
                      </div>\
                      <!-- <div class="modal-footer">\
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\
                      </div> -->\
                    </div>\
                  </div>\
                </div>';
          return m_html;
        }
        else return r_html;
        
        
      }


  } ) ( jQuery );
</script></div>
    </div>
</div>
</body></html>
